# Markdown Viewer

**ドキュメント作業が、もっと快適になる。**

Mermaid 図表もサクッと表示。タブで複数ファイルを並行作業。作業状態は自動保存。
Windows ユーザーのための、軽量で多機能な Markdown ビューア。

---

## なぜ Markdown Viewer？

「Markdown ファイルをちょっと確認したいだけなのに、エディタを立ち上げるのは面倒...」
「Mermaid の図がプレビューできない...」
「昨日どのファイルを開いてたっけ...」

そんな小さなストレス、全部解決します。

### なぜブラウザ拡張じゃなくてデスクトップアプリ？

ブラウザ拡張では、セキュリティ制限により**ローカルフォルダの一覧取得ができません**。
デスクトップアプリだからこそ、フォルダを開くだけでファイルツリーが表示され、
クリック一つでファイルを切り替えられる快適な操作性を実現しています。

| こんな人に最適 | |
|--------------|---|
| 技術ドキュメントをよく書く | Mermaid 図表をリアルタイムでプレビュー |
| 複数の .md ファイルを行き来する | タブ UI で効率的に切り替え |
| 毎日同じプロジェクトを開く | セッション自動復元で即作業開始 |
| ドキュメントが長くなりがち | アウトライン表示で迷子にならない |

---

## 主な機能

### 📝 全文検索で欲しい情報に即アクセス

フォルダ内の全ファイルを横断検索。検索結果から一発でその行にジャンプ。
キーワードは赤色でハイライト表示されるので、探していた情報がすぐ見つかる。

- **高度な検索オプション**: 大文字小文字区別、正規表現、ファイル名検索
- **マルチキーワード**: AND/OR検索で複雑な条件も自在
- **検索結果エクスポート**: Markdown形式でクリップボードにコピー
- **検索履歴**: 直近5件の検索を保持

### ⭐ ブックマークで頻繁に使うファイルに素早くアクセス

よく開くファイルは `Ctrl+B` でブックマーク。
ブックマーク一覧から即座にファイルを開ける。

### ⏱ 最近開いたファイルを追跡

直近10件の開いたファイルを自動で記録。
`Ctrl+H` で最近使ったファイルに戻れる。

### 🎨 Mermaid 図表をそのまま表示

フローチャート、シーケンス図、ER図、ガントチャート...
コードブロックに書いた Mermaid がそのまま美しい図に。

```
graph TD
    A[アイデア] --> B[設計]
    B --> C[実装]
    C --> D[完成]
```

### タブで効率的に作業

複数の Markdown ファイルをタブで開いて並行作業。
`Ctrl+Tab` でサクサク切り替え。ドラッグで並べ替えも自由自在。

### セッション自動保存

「昨日の続きから」がワンクリックで。
開いていたファイル、ウィンドウ位置、すべて自動で復元。

### アウトライン（目次）

長いドキュメントも迷わない。
見出しをクリックすれば、目的のセクションに一発ジャンプ。

### 行番号ガター & ソースコピー

行番号をクリックするだけで、ファイルパス付きでソースをコピー。
Shift+クリックで範囲選択も可能。コードレビューや引用に便利。

### Markdown 以外にも対応

| 形式 | 表示方法 |
|------|---------|
| XML / Python | シンタックスハイライト |
| CSV | きれいなテーブル表示 |
| CDXML | 化学構造式を SVG 描画 |

---

## スクリーンショット

```
┌─────────────────────────────────────────────────────────────┐
│ [Open] [New Tab] [Reload] [Outline]          📄 docs/spec.md│
├─────────────────────────────────────────────────────────────┤
│ Doc1.md │ Doc2.md │ +                                       │
├─────────┬───────────────────────────────────────┬───────────┤
│ Files   │                                       │ Outline   │
│ ─────── │  # Document Title                     │ ───────── │
│ doc1.md │                                       │ > Title   │
│ doc2.md │  Content here...                      │   Section │
│         │                                       │   ...     │
│─────────│  ┌─────────────────────┐              │           │
│ Stats   │  │  graph TD           │              │           │
│ Lines:42│  │    A[開始] --> B    │  ← Mermaid! │           │
│ Words:  │  └─────────────────────┘              │           │
└─────────┴───────────────────────────────────────┴───────────┘
```

---

## クイックスタート

### 必要なもの

- Windows 10/11
- Python 3.10+

### インストール

```bash
git clone <repository-url>
cd markdown-viewer
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
```

### 起動

```bash
run.bat
# または
python src/main.py
```

ファイルを直接開くこともできます：

```bash
python src/main.py "path/to/file.md"
```

---

## キーボードショートカット

覚えておくと便利なショートカット：

| キー | 機能 |
|------|------|
| `Ctrl+O` | フォルダを開く |
| `Ctrl+T` | 新しいタブ |
| `Ctrl+W` | タブを閉じる |
| `Ctrl+Tab` | 次のタブ |
| `Ctrl+F` | 検索ボックスにフォーカス |
| `Ctrl+H` | 最近開いたファイル一覧 |
| `Ctrl+B` | 現在のファイルをブックマーク |
| `ESC` | 戻る（検索結果・一覧から前の画面へ） |
| `F1` | ヘルプを表示 |
| `Ctrl+Shift+L` | サイドバー表示切替 |
| `Ctrl+Shift+O` | アウトライン表示切替 |
| `F5` | 再読み込み（スクロール位置保持） |
| `Ctrl++` / `Ctrl+-` | ズームイン / アウト |
| `Ctrl+0` | ズームリセット |

---

## 対応 Mermaid 図表

| 図表 | 用途 |
|------|------|
| フローチャート | 処理フロー、意思決定 |
| シーケンス図 | API 呼び出し、通信フロー |
| クラス図 | オブジェクト設計 |
| 状態図 | 状態遷移 |
| ER図 | データベース設計 |
| ガントチャート | スケジュール管理 |
| 円グラフ | 割合の可視化 |

---

## 技術スタック

- **GUI**: PyQt6 + WebEngine
- **Markdown**: marked.js (GitHub Flavored Markdown)
- **図表**: mermaid.js
- **シンタックスハイライト**: highlight.js

---

## ドキュメント

詳細な仕様は [doc/spec/](doc/spec/index.md) を参照してください。

---

## ライセンス

MIT License
